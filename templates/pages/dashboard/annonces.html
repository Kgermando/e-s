{% extends 'pages/dashboard/dashboard.html' %}
{% load static %}
{% block dashboard_title %}Annonces{% endblock dashboard_title %}
{% block dashboard %}

{% for annonce in annonce_list %}
    <div class="card">
        <h4 class="card-header text-danger"><i class="fas fa-fw fa-bell"></i>  {{annonce.secteur|upper}}</h4>
        <div class="card-body">
            <div class="metric-value d-inline-block">
                <h2 class="mb-1">{{annonce.titre}}</h2>
            </div>
            <div class="metric-label d-inline-block float-right text-secondary font-weight-bold">
                {{annonce.created | timesince}}
            </div>
        </div>
        <div class="card-body text-left bg-light">
            <p>{{annonce.description|truncatewords:50}}</p>
        </div>
        <div class="card-footer text-center bg-white">
            <a href="#" class="card-link">View Details</a>
        </div>
    </div>

{% empty %}
    <div class="card">
        <h3 class="card-header">Annonces</h3>
        <div class="card-body">
            <h4>Merci pour votre Inscription mais pour le moment pas d'Annonces pour vous.</h4>
        </div>
    </div>
{% endfor %}

<div class="pagination d-flex justify-content-center py-4">
    <span class="step-links">
        {% if annonce_list.has_previous %}          
            <a href="?page={{ annonce_list.previous_page_number }}">page précédente</a>
        {% endif %}

        <span class="current">
        {{ annonce_list.number }}
        </span>

        {% if annonce_list.has_next %}
            <a href="?page={{ annonce_list.next_page_number }}">page suivante</a>
        {% endif %}
    </span>
</div>




{% endblock dashboard %}